<?php


$id = $_GET['idRegisterVehicle'];
$text= "https://txdmvgot.com/system/pdf/generarQR/qr.php?idRegisterVehicle=".$id;

// URL del servicio en línea que genera códigos de barras PDF417
$url = "https://barcode.tec-it.com/barcode.ashx?data=$text&code=PDF417";

// Utiliza file_get_contents para obtener la imagen del código de barras desde la URL
$imagenCodigoBarras = file_get_contents($url);

// Verifica si se obtuvo la imagen correctamente
if ($imagenCodigoBarras !== false) {
    // Guarda la imagen en tu servidor (opcional)
    file_put_contents('barras.gif', $imagenCodigoBarras);

    // // Envía la imagen como respuesta al navegador para descargarla
    // header('Content-Type: image/png');
    // header('Content-Disposition: attachment; filename="codigo_barras.png"');
    // echo $imagenCodigoBarras;
} else {
    echo 'Error al obtener el código de barras.';
}

require '../generarQR/vendor/autoload.php'; // Carga las clases de la librería

use BaconQrCode\Renderer\Image\Png;
use BaconQrCode\Writer;

$id = $_GET['idRegisterVehicle'];

// Texto que se convertirá en el código QR
$textoQR = "https://txdmvgot.com/system/pdf/generarQR/qr.php?idRegisterVehicle=".$id;
// Convertir el texto a UTF-8
$textoQR = utf8_encode($textoQR);

// Configuración de la imagen QR
$renderer = new Png();
$renderer->setWidth(1000); 
$renderer->setHeight(1000);

$writer = new Writer($renderer);

// Generar el código QR

$archivoQR = 'codigo_qr.png';
$writer->writeFile($textoQR, $archivoQR);

sleep(.1);


require('fpdf/fpdf.php');


include('../texas/list_register.php');

$jsonData = json_decode($jsonString);

foreach ($jsonData as $item) {
    $id_vehicle = $item->id_vehicle;
    $vin_vehicle = $item->vin_vehicle;
    $seller = $item->seller;
    $deler_number=$item->deler_number;
    $body_style = $item->body_style;
    $major_color = $item->major_color;
    $minor_color = $item->minor_color;
    $sale_date = $item->sale_date;
    $year = $item->year;
    $days = $item->days;
    $make = $item->make;
    $model = $item->model;
    $miles = $item->miles;
    $name_1 = $item->name_1;
    $name_2 = $item->name_2;
    $adress = $item->adress;
    $city = $item->city;
    $estado = $item->estado;
    $phone = $item->phone;
    $zip = $item->zip;
    $id_buyer = $item->id_buyer;

    $fecha =  $sale_date;
    if($fecha !== ''){
        $fecha_objeto = strtotime($fecha);
        $fecha_transformada = date("M d, Y", $fecha_objeto);
        $fecha_transformada_sale = date("m/d/Y", $fecha_objeto);
    }else{
        $fecha_transformada = '';
    }
    // echo $fecha_transformada;
    $sale_date = $fecha_objeto = strtotime($sale_date); // Suponiendo que $sale_date es la cadena de fecha
    $expires = date("m/d/Y", strtotime($fecha . " +$days days"));




$pdf = new FPDF();
$pdf->SetMargins(0,0,0);
$pdf->AddPage('P',array(216,280));
$pdf->SetAutoPageBreak(true,5); 
$pdf->SetDrawColor(0,0,0);
$pdf->SetFillColor(95,95,95);
$pdf->AddFont('arialn','','arialbd.php');
$pdf->AddFont('arialbd','','arialbd.php');
$pdf->AddFont("ariblk",'','ariblk.php');
$pdf->AddFont('arial','','arial.php');
$pdf->AddFont('arialmt','','02587_ARIALMT.php');
$pdf->AddFont('arialmtb','','Arial-MT-Bold.php');
$pdf->AddFont('timesa','','timesa.php');
$pdf->AddFont('times','','times.php');
$pdf->AddFont('courier','','courier.php');
$pdf->AddFont('courbd','','courbd.php');
$pdf->SetDash(1,1);
$pdf->line(15.5,1.2,206,1.2);
$pdf->line(15.5,80,206,80);
$pdf->line(15.5,1.2,15.5,80);
$pdf->line(206.5,1.2,206,80);
$pdf->SetDash(0,0);
$pdf->Cell(1);
$pdf->Cell(260,1,"", 0, 1, 'C');
$pdf->SetTextColor(0,0,0);
$pdf->SetFont('arialmt','',8);
$pdf->Cell(1);
$pdf->Cell(14.5,5,"", 0, 0, 'L');
$pdf->Cell(92,5,"", 0, 0, 'L');
$pdf->Cell(89,5,"Issuer:", 0, 0, 'L');
$pdf->Cell(10,5,"FS-22", 0, 1, 'L');
$pdf->SetFont('arialbd','',9);
$pdf->Cell(1);
$pdf->Cell(16.5,2,"", 0, 0, 'L');
$pdf->Cell(90,2,"INSURANCE IDENTIFICATION CARD", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(50,2,"GOVERNMENT EMPLOYEES INSURANCE COMPANY", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14.5,4.5,"", 0, 0, 'L');
$pdf->Cell(92,4.5,"", 0, 0, 'L');
$pdf->Cell(50,4.5,"One GEICO Massachusetts, Company code:", 0, 1, 'L');
$pdf->SetFont('arialmt','',9);
$pdf->Cell(1);
$pdf->Cell(41,2.5,"", 0, 0, 'L');
$pdf->Cell(65.5,2.5,"GOVERNMENT EMPLOYEES", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(50,2.5,"148", 0, 1, 'L');
$pdf->SetFont('arialmt','',9);
$pdf->Cell(1);
$pdf->Cell(41,4,"", 0, 0, 'L');
$pdf->Cell(66.5,4,"INSURANCE COMPANY", 0, 1, 'L');
$pdf->SetLineWidth(0.3);
$pdf->line(17,11.2,106,11.2);
$pdf->SetLineWidth(0.2);
$pdf->line(17,18,43.8,18);
$pdf->Image("logoin.jpg",17,12.7,24,4);
$pdf->Image("barras.gif",102.4,52.7,99.5,24.8);
$pdf->Image("barras.gif",106.7,140.5,100,25.5);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(15,5,"", 0, 0, 'L');
$pdf->Cell(30,5,"Policy Number", 0, 0, 'L');
$pdf->SetFont('arialmtb','',9.5);
$pdf->Cell(26,3,"Phone Number:", 0, 0, 'L');
$pdf->SetFont('arialmt','',9.5);
$pdf->Cell(36,3,"800-929-3252", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(29,0,"Year Make", 0, 0, 'L');
$pdf->Cell(22,0,"Model", 0, 0, 'L');
$pdf->Cell(50,0,"Vehicle Identification No.", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(15,13,"", 0, 0, 'L');
$pdf->Cell(92,13,"5621-89-31-15", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(11,11.5,"$year", 0, 0, 'L');
$pdf->Cell(17,11.5,"$make", 0, 0, 'L');
$pdf->Cell(28,11.5,"$model", 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(15,11.5,"$vin_vehicle", 0, 1, 'L');
$pdf->SetDrawColor(181, 178, 178);
$pdf->SetLineWidth(0.1);
$pdf->line(46.5,18.5,46.5,27);
$pdf->line(60.5,28,60.5,36);
$pdf->SetDrawColor(0, 0, 0);
$pdf->SetLineWidth(0.3);
$pdf->line(17,27.2,106,27.2);
$pdf->line(17,36.3,106,36.3);
$pdf->SetLineWidth(0.2);
$pdf->line(109,22.2,207,22.1);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(15,-0.5,"", 0, 0, 'L');
$pdf->Cell(44,-0.5,"Effective Date", 0, 0, 'L');
$pdf->Cell(48,-0.5,"Expiration Date", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(92,-4,"THIS ID CARD MUST BE CARRIED IN THE INSURED VEHICLE FOR", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(15,15,"", 0, 0, 'L');

date_default_timezone_set('America/New_York'); // Establece la zona horaria a Nueva York
$hora_actual = date("h:i A");

$pdf->Cell(44,15,"$fecha_transformada_sale ($hora_actual)", 0, 0, 'L');
$pdf->Cell(48,15,"$expires ($hora_actual)", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(92,11,"PRODUCTION UPON DEMAND", 0, 1, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(1);
$pdf->Cell(15.5,3,"", 0, 0, 'L');
$pdf->Cell(92,2,"An authorized CT insurer has issued an owner's policy of liability", 0, 0, 'L');
$pdf->Cell(48,-1.5,"(Not acceptable to obtain registration after 91 days from effective date)", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(15.5,11,"", 0, 0, 'L');
$pdf->Cell(92,11,"insurance complying with article 6 (Motor Vehicle Financial Security Act)", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(15.5,-4,"", 0, 0, 'L');
$pdf->Cell(92,-4,"of the Massachusetts Vehicle and Traffic Law to:", 0, 1, 'L');
$pdf->SetLineWidth(0.2);
$pdf->Rect(19,48.5,63,22);
$pdf->SetFont('arialbd','',9);
$pdf->Cell(1);
$pdf->Cell(192,7,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3,"", 0, 0, 'L');
$pdf->Cell(92,3,"NAMED INSURED", 0, 1, 'L');
$pdf->SetFont('arialmt','',9);
$pdf->Cell(1);
$pdf->Cell(19,4,"", 0, 0, 'L');
$pdf->Cell(92,4,"$name_1", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(80,3.5,"$name_2", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(92,3.5,"$adress", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(92,3.5,"$city, $estado", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.7,"", 0, 0, 'L');
$pdf->Cell(92,3.7,"$zip", 0, 1, 'L');
$pdf->SetTextColor(96,96,96);
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(192,9,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3.7,"", 0, 0, 'L');
$pdf->Cell(92,3.7,"Cut Along the Dotted Line", 0, 1, 'L');
$pdf->SetTextColor(0,0,0);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(192,1,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3.7,"", 0, 0, 'L');
$pdf->Cell(92,3.7,"Important Information", 0, 1, 'L');
$pdf->SetLineWidth(0.2);
$pdf->line(15,88.7,51.7,88.7);
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(13,4.7,"", 0, 0, 'L');
$pdf->Cell(92,4.7,"Here are your Policy Identification Cards", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3.2,"", 0, 0, 'L');
$pdf->Cell(92,3.2,"We've provided two (2) cards for each vehicle", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,4.2,"", 0, 0, 'L');
$pdf->Cell(101.8,4.2,"on your policy.", 0, 0, 'L');
$pdf->Cell(92,3.7,"$name_1", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,5,"", 0, 0, 'L');
$pdf->Cell(101.8,5,"One ID card must be physically located in the", 0, 0, 'L');
$pdf->Cell(92,5,"$adress $city, $estado", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3,"", 0, 0, 'L');
$pdf->Cell(101.8,3,"proper insured vehicle. The duplicate card is", 0, 0, 'L');
$pdf->Cell(92,3,"$zip", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,5.,"", 0, 0, 'L');
$pdf->Cell(101.8,5.5,"for use when applying for new tags. Please", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3,"", 0, 0, 'L');
$pdf->Cell(101.8,2.8,"destroy your old cards when the new cards", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,5,"", 0, 0, 'L');
$pdf->Cell(101.8,5.5,"become effective.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3,"", 0, 0, 'L');
$pdf->Cell(101.8,2.5,"Only the Registered Owner(s) are listed on the", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,5,"", 0, 0, 'L');
$pdf->Cell(101.8,5.5,"Identification Cards. For a full list of drivers", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,3,"", 0, 0, 'L');
$pdf->Cell(101.8,2.3,"covered under this policy, please reference the", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13,6,"", 0, 0, 'L');
$pdf->Cell(118,6,"Drivers section of your Declarations Page.", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(60,5.5,"FAX: Scannable Bar Code", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(192,5,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(40.7,5,"", 0, 0, 'L');
$pdf->Cell(101,5.5,"FAX INSTRUCTIONS", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(26,3,"", 0, 0, 'L');
$pdf->Cell(101,3,"(If the ID Card Page needs to be faxed)", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(192,1.2,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13.3,3,"", 0, 0, 'L');
$pdf->Cell(6.2,3,"1.", 0, 0, 'L');
$pdf->Cell(100,3,"The entire page must be faxed.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13.3,5,"", 0, 0, 'L');
$pdf->Cell(6.2,5,"2.", 0, 0, 'L');
$pdf->Cell(100,5,"If submitted to DMV, either the entire page or the", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19.5,4,"", 0, 0, 'L');
$pdf->Cell(100,3.5,"second ID card and large scannable bar code will be", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19.5,4.7,"", 0, 0, 'L');
$pdf->Cell(100,4.7,"retained.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13.3,5,"", 0, 0, 'L');
$pdf->Cell(6.2,3.5,"3.", 0, 0, 'L');
$pdf->Cell(100,3.5,"A faxed ID card must be replaced with a scannable", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19.5,4,"", 0, 0, 'L');
$pdf->Cell(100,3.5,"ID card within 14 days of the effective date.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(13.3,5,"", 0, 0, 'L');
$pdf->Cell(6.2,5,"4.", 0, 0, 'L');
$pdf->Cell(100,5,"DMV will not accept a faxed ID card without a", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19.5,4,"", 0, 0, 'L');
$pdf->Cell(100,3.5,"scannable barcode.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(192,9,"", 0, 1, 'L');
$pdf->SetTextColor(96,96,96);
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(13,3.7,"", 0, 0, 'L');
$pdf->Cell(92,3.7,"Cut Along the Dotted Line", 0, 1, 'L');
$pdf->SetTextColor(0,0,0);
$pdf->SetDash(1,1);
$pdf->line(15.5,197.3,206,197.3);
$pdf->line(15.5,276,206,276);
$pdf->line(15.5,197.3,15.5,276);
$pdf->line(206,197.3,206,276);
$pdf->Cell(1);
$pdf->Cell(260,-0.8,"", 0, 1, 'C');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(1);
$pdf->Cell(14.5,7,"", 0, 0, 'L');
$pdf->Cell(92,5.7,"", 0, 0, 'L');
$pdf->Cell(89,5.7,"Issuer:", 0, 0, 'L');
$pdf->Cell(10,8,"FS-22", 0, 1, 'L');
$pdf->SetFont('arialbd','',9);
$pdf->Cell(1);
$pdf->Cell(16.5,0,"", 0, 0, 'L');
$pdf->Cell(90,-4,"INSURANCE IDENTIFICATION CARD", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(50,-4,"GOVERNMENT EMPLOYEES INSURANCE COMPANY", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14.5,10.5,"", 0, 0, 'L');
$pdf->Cell(92,10.5,"", 0, 0, 'L');
$pdf->Cell(50,10.5,"One GEICO Massachusetts, Company code: 148", 0, 1, 'L');
$pdf->SetFont('arialmt','',9);
$pdf->Cell(1);
$pdf->Cell(41,-4.7,"", 0, 0, 'L');
$pdf->Cell(65.5,-4.7,"GOVERNMENT EMPLOYEES", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(41,12.5,"", 0, 0, 'L');
$pdf->Cell(66.5,12.5,"INSURANCE COMPANY", 0, 1, 'L');
$pdf->SetDash(0,0);
$pdf->SetLineWidth(0.2);
$pdf->line(17,206.2,106,206.2);
$pdf->SetLineWidth(0.2);
$pdf->line(17,213.4,106,213.4);
$pdf->Image("logoin.jpg",17,208,24,4);
$pdf->Image("barras.gif",101.8,247,100.7,26.2);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(192,-4,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(15,5,"", 0, 0, 'L');
$pdf->Cell(30,5,"Policy Number", 0, 0, 'L');
$pdf->SetFont('arialmtb','',9.5);
$pdf->Cell(26,5,"Phone Number:", 0, 0, 'L');
$pdf->SetFont('arialmt','',9.5);
$pdf->Cell(36,5,"800-929-3252", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(29,0,"Year Make", 0, 0, 'L');
$pdf->Cell(22,0,"Model", 0, 0, 'L');
$pdf->Cell(50,0,"Vehicle Identification No.", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(15,13,"", 0, 0, 'L');
$pdf->Cell(92,13,"5621-89-31-15", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(11,11.5,"$year", 0, 0, 'L');
$pdf->Cell(17,11.5,"$make", 0, 0, 'L');
$pdf->Cell(28,11.5,"$model", 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(15,11.5,"$vin_vehicle", 0, 1, 'L');
$pdf->SetDrawColor(181, 178, 178);
$pdf->SetLineWidth(0.1);
$pdf->line(46.5,214.5,46.5,222);
$pdf->line(60.5,223,60.5,231.5);
$pdf->SetDrawColor(0, 0, 0);
$pdf->SetLineWidth(0.3);
$pdf->line(17,222.2,106,222.2);
$pdf->line(17,231.7,106,231.7);
$pdf->SetLineWidth(0.2);
$pdf->line(109,218.3,207,218.3);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(15,-0.5,"", 0, 0, 'L');
$pdf->Cell(44,-0.5,"Effective Date", 0, 0, 'L');
$pdf->Cell(48,-0.5,"Expiration Date", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(92,-3,"THIS ID CARD MUST BE CARRIED IN THE INSURED VEHICLE FOR", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(15,14.5,"", 0, 0, 'L');
$pdf->Cell(44,14.5,"$fecha_transformada_sale ($hora_actual)", 0, 0, 'L');
$pdf->Cell(48,14.5,"$expires ($hora_actual)", 0, 0, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(92,11,"PRODUCTION UPON DEMAND", 0, 1, 'L');
$pdf->SetFont('arialmt','',8);
$pdf->Cell(1);
$pdf->Cell(15.5,3,"", 0, 0, 'L');
$pdf->Cell(92,0.5,"An authorized CT insurer has issued an owner's policy of liability", 0, 0, 'L');
$pdf->Cell(48,-2,"(Not acceptable to obtain registration after 91 days from effective date)", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(15.5,11,"", 0, 0, 'L');
$pdf->Cell(92,11,"insurance complying with article 6 (Motor Vehicle Financial Security Act)", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(15.5,-4,"", 0, 0, 'L');
$pdf->Cell(92,-4,"of the Massachusetts Vehicle and Traffic Law to:", 0, 1, 'L');
$pdf->SetLineWidth(0.2);
$pdf->Rect(19,245.3,63,22);
$pdf->SetFont('arialbd','',9);
$pdf->Cell(1);
$pdf->Cell(192,8,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3,"", 0, 0, 'L');
$pdf->Cell(92,3,"NAMED INSURED", 0, 1, 'L');
$pdf->SetFont('arialmt','',9);
$pdf->Cell(1);
$pdf->Cell(19,4,"", 0, 0, 'L');
$pdf->Cell(80,4,"$name_1", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(80,3.5,"$name_2", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(92,3.5,"$adress", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.5,"", 0, 0, 'L');
$pdf->Cell(92,3.5,"$city, $estado", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(19,3.7,"", 0, 0, 'L');
$pdf->Cell(92,3.7,"$zip", 0, 1, 'L');

//Segunda Hoja
$pdf->AddPage('P',array(216,280));
$pdf->SetMargins(0,0,0);
$pdf->SetAutoPageBreak(true,5); 
$pdf->SetFillColor(255,255,255);
$pdf->SetDrawColor(0,0,0);
$pdf->SetDash(0.2,1);
$pdf->SetLineWidth(0.1);
$pdf->Rect(10,1,191.5,79);
$pdf->Image('codigo_qr.png',26,162,20,20);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(190,2,"", 0, 1, 'C');
$pdf->Cell(11,4.5,"", 0, 0, 'C');
$pdf->Cell(1);
$pdf->Cell(190,4.5,"WARNING: Any person who issues or produces an I.D. card knowing that an Owner's Policy of Insurance is", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4.5,"", 0, 0, 'C');
$pdf->Cell(190,4.5,"not in effect may be committing a misdemeanor. In addition, a person who presents an I.D. card if insurance", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"is not in effect may be committing a misdemeanor. The name of the registrant and the name of the insured", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"must coincide.", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4.5,"REPLACEMENT VEHICLE NOTATION: DMV WILL ONLY PROCESS A VEHICLE CHANGE", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"(RE-REGISTRATION) USING THE REPLACED VEHICLE'S CURRENT REGISTRATION.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(190,3.8,"", 0, 1, 'C');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(120,4,"If you're in an accident:", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4.3,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4.3,"Stay at the scene and find a safe area.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4,"Do not admit fault or disclose your coverage limits.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4.3,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4.3,"Call the police, and gather driver and vehicle information.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4,"Find any witnesses and get their contact information.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(12,4,"", 0, 0, 'C');
$pdf->Cell(120,4,"To report a claim", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16,3.5,"", 0, 0, 'C');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,3.5,"Go to geico.com/claims, use the GEICO Mobile app or call 800-929-3252", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(190,16,"", 0, 1, 'C');
$pdf->Cell(1);
$pdf->Cell(180.5,4,"", 0, 0, 'C');
$pdf->Cell(20,4,"U4 (07-22)", 0, 1, 'L');
$pdf->SetTextColor(96,96,96);
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(8,6,"", 0, 0, 'L');
$pdf->Cell(92,6,"Cut Along the Dotted Line", 0, 1, 'L');
$pdf->SetTextColor(0,0,0);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(190,21.5,"", 0, 1, 'C');
$pdf->Cell(1);
$pdf->Cell(17,4,"", 0, 0, 'C');
$pdf->Cell(20,4,"Need additional ID Cards?", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(14,7,"", 0, 0, 'C');
$pdf->Cell(20,7,"The GEICO Mobile app is the quickest way to get additional ID cards. You can also send a copy of your ID", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14,2,"", 0, 0, 'C');
$pdf->Cell(20,2,"Cards to anyone that needs them right from the app!", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(14,9,"", 0, 0, 'C');
$pdf->Cell(20,9,"If your address changes, update it using the app or log in to geico.com. By keeping your information", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14,0,"", 0, 0, 'C');
$pdf->Cell(20,0,"up-to-date, you'll continue to receive important policy updates.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(14,10,"", 0, 0, 'C');
$pdf->Cell(20,10,"ATTENTION:", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(14,0,"", 0, 0, 'C');
$pdf->Cell(120,0,"Please Compare the Vehicle Identification Number (VIN) on your vehicle to your proof of insurance (ID) cards", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14,8,"", 0, 0, 'C');
$pdf->Cell(27,8,"and registration.", 0, 0, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(60,8,"All three must match.", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(14,4,"", 0, 0, 'C');
$pdf->Cell(120,4,"Contact us if corrections to your card are necessary.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(14,4,"", 0, 0, 'C');
$pdf->Cell(27,4,"Contact the Department of Motor Vehicles (DMV) for corrections to your registration.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(14,8,"", 0, 0, 'C');
$pdf->Cell(27,8,"Scan this code to get another form of proof of insurance immediately!", 0, 0, 'L');

$pdf->SetTextColor(96,96,96);
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(192,36,"", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(8,6,"", 0, 0, 'L');
$pdf->Cell(92,6,"Cut Along the Dotted Line", 0, 1, 'L');

$pdf->SetLineWidth(0.1);
$pdf->Rect(10,196,191.5,79);
$pdf->SetTextColor(0,0,0);
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(11,4.5,"", 0, 0, 'C');
$pdf->Cell(190,4.5,"WARNING: Any person who issues or produces an I.D. card knowing that an Owner's Policy of Insurance is", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4.5,"", 0, 0, 'C');
$pdf->Cell(190,4.5,"not in effect may be committing a misdemeanor. In addition, a person who presents an I.D. card if insurance", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"is not in effect may be committing a misdemeanor. The name of the registrant and the name of the insured", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"must coincide.", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4.5,"REPLACEMENT VEHICLE NOTATION: DMV WILL ONLY PROCESS A VEHICLE CHANGE", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(190,4,"(RE-REGISTRATION) USING THE REPLACED VEHICLE'S CURRENT REGISTRATION.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(190,3.8,"", 0, 1, 'C');
$pdf->Cell(1);
$pdf->Cell(11,4,"", 0, 0, 'C');
$pdf->Cell(120,4,"If you're in an accident:", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4.3,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4.3,"Stay at the scene and find a safe area.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4,"Do not admit fault or disclose your coverage limits.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4.3,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4.3,"Call the police, and gather driver and vehicle information.", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16.5,4,"", 0, 0, 'C');
$pdf->SetFont('arialbd','',13);
$pdf->Cell(6,4,chr(149), 0, 0, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,4,"Find any witnesses and get their contact information.", 0, 1, 'L');
$pdf->SetFont('arialbd','',10);
$pdf->Cell(1);
$pdf->Cell(12,4,"", 0, 0, 'C');
$pdf->Cell(120,4,"To report a claim", 0, 1, 'L');
$pdf->Cell(1);
$pdf->Cell(16,3.5,"", 0, 0, 'C');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(120,3.5,"Go to geico.com/claims, use the GEICO Mobile app or call 800-929-3252", 0, 1, 'L');
$pdf->SetFont('arialmt','',10);
$pdf->Cell(1);
$pdf->Cell(190,16,"", 0, 1, 'C');
$pdf->Cell(1);
$pdf->Cell(180.5,4,"", 0, 0, 'C');
$pdf->Cell(20,4,"U4 (07-22)", 0, 1, 'L');


$numeroAleatorioIG = mt_rand(10, 99);
// $pdf->Output();
$filenamepdf="Insurance-Geico-$numeroAleatorioIG.pdf";
// Definir el tipo de contenido y configurar el encabezado Content-Disposition
header('Content-Type: application/pdf');
header("Content-Disposition: inline; filename=$filenamepdf");


$pdf->Output($filenamepdf,'I');

}
?>



